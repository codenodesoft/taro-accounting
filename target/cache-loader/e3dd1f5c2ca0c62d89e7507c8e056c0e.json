{"remainingRequest":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\tslint-loader\\index.js!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\src\\main\\webapp\\app\\entities\\employee-extended\\employee-extended-update.component.ts","dependencies":[{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\src\\main\\webapp\\app\\entities\\employee-extended\\employee-extended-update.component.ts","mtime":1625565386947},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\ts-loader\\index.js","mtime":1545640398000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\tslint-loader\\index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar core_1 = require(\"@angular/core\");\r\nvar router_1 = require(\"@angular/router\");\r\nvar operators_1 = require(\"rxjs/operators\");\r\nvar ng_jhipster_1 = require(\"ng-jhipster\");\r\nvar employee_extended_service_1 = require(\"./employee-extended.service\");\r\nvar department_1 = require(\"app/entities/department\");\r\nvar office_1 = require(\"app/entities/office\");\r\nvar designation_1 = require(\"app/entities/designation\");\r\nvar core_2 = require(\"app/core\");\r\nvar ng_bootstrap_1 = require(\"@ng-bootstrap/ng-bootstrap\");\r\nvar employee_1 = require(\"app/entities/employee\");\r\nvar EmployeeExtendedUpdateComponent = /** @class */ (function (_super) {\r\n    tslib_1.__extends(EmployeeExtendedUpdateComponent, _super);\r\n    function EmployeeExtendedUpdateComponent(dataUtils, jhiAlertService, employeeService, departmentService, officeService, designationService, elementRef, activatedRoute, userService, modalService, router) {\r\n        var _this = _super.call(this, dataUtils, jhiAlertService, employeeService, departmentService, officeService, designationService, elementRef, activatedRoute) || this;\r\n        _this.dataUtils = dataUtils;\r\n        _this.jhiAlertService = jhiAlertService;\r\n        _this.employeeService = employeeService;\r\n        _this.departmentService = departmentService;\r\n        _this.officeService = officeService;\r\n        _this.designationService = designationService;\r\n        _this.elementRef = elementRef;\r\n        _this.activatedRoute = activatedRoute;\r\n        _this.userService = userService;\r\n        _this.modalService = modalService;\r\n        _this.router = router;\r\n        return _this;\r\n    }\r\n    EmployeeExtendedUpdateComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.isSaving = false;\r\n        this.activatedRoute.data.subscribe(function (_a) {\r\n            var employee = _a.employee;\r\n            _this.employee = employee;\r\n        });\r\n        this.employeeService\r\n            .query({ 'designationId.in': '1,2,3,4,5,6,7' })\r\n            .subscribe(function (res) { return (_this.managers = res.body); }, function (res) { return _this.onError(res.message); });\r\n        this.departmentService\r\n            .query({ 'employeeId.specified': 'false', size: 1000 })\r\n            .pipe(operators_1.filter(function (mayBeOk) { return mayBeOk.ok; }), operators_1.map(function (response) { return response.body; }))\r\n            .subscribe(function (res) {\r\n            if (!_this.employee.departmentId) {\r\n                _this.departments = res;\r\n            }\r\n            else {\r\n                _this.departmentService\r\n                    .find(_this.employee.departmentId)\r\n                    .pipe(operators_1.filter(function (subResMayBeOk) { return subResMayBeOk.ok; }), operators_1.map(function (subResponse) { return subResponse.body; }))\r\n                    .subscribe(function (subRes) { return (_this.departments = [subRes].concat(res)); }, function (subRes) { return _this.onError(subRes.message); });\r\n            }\r\n        }, function (res) { return _this.onError(res.message); });\r\n        this.officeService\r\n            .query({ 'employeeId.specified': 'false' })\r\n            .pipe(operators_1.filter(function (mayBeOk) { return mayBeOk.ok; }), operators_1.map(function (response) { return response.body; }))\r\n            .subscribe(function (res) {\r\n            if (!_this.employee.officeId) {\r\n                _this.offices = res;\r\n            }\r\n            else {\r\n                _this.officeService\r\n                    .find(_this.employee.officeId)\r\n                    .pipe(operators_1.filter(function (subResMayBeOk) { return subResMayBeOk.ok; }), operators_1.map(function (subResponse) { return subResponse.body; }))\r\n                    .subscribe(function (subRes) { return (_this.offices = [subRes].concat(res)); }, function (subRes) { return _this.onError(subRes.message); });\r\n            }\r\n        }, function (res) { return _this.onError(res.message); });\r\n        this.designationService\r\n            .query({\r\n            size: 1000\r\n        })\r\n            .pipe(operators_1.filter(function (mayBeOk) { return mayBeOk.ok; }), operators_1.map(function (response) { return response.body; }))\r\n            .subscribe(function (res) { return (_this.designations = res); }, function (res) { return _this.onError(res.message); });\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.searchDesignations = function (event) {\r\n        var _this = this;\r\n        this.designations = [];\r\n        this.designationService\r\n            .query({\r\n            'name.in': event.query\r\n        })\r\n            .pipe(operators_1.filter(function (mayBeOk) { return mayBeOk.ok; }), operators_1.map(function (response) { return response.body; }))\r\n            .subscribe(function (res) { return (_this.designations = res); }, function (res) { return _this.onError(res.message); });\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.activationCheckboxChanged = function (content) {\r\n        var _this = this;\r\n        this.user = new core_2.User();\r\n        if (this.employee.userAccount) {\r\n            this.modalService.open(content);\r\n            this.userService.find(this.employee.employeeId).subscribe(function (response) {\r\n                _this.user = response.body;\r\n            }, function (error) {\r\n                console.log('In error portion');\r\n                _this.user = new core_2.User();\r\n                _this.user.login = _this.employee.employeeId;\r\n                _this.user.email = _this.employee.email;\r\n            });\r\n            this.userService.authorities().subscribe(function (authorities) {\r\n                _this.authorities = authorities;\r\n            });\r\n        }\r\n        else {\r\n            this.userService.find(this.employee.employeeId).subscribe(function (user) {\r\n                _this.user = user.body;\r\n                if (_this.user !== undefined) {\r\n                    _this.user.activated = false;\r\n                    _this.userService.update(_this.user).subscribe(function (response) {\r\n                        _this.jhiAlertService.info('User account disabled');\r\n                    });\r\n                }\r\n            }, function (error) { });\r\n        }\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.cancelUserCreation = function () {\r\n        this.modalService.dismissAll();\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.saveUser = function () {\r\n        var _this = this;\r\n        this.userService.find(this.user.login).subscribe(function (response) {\r\n            var user = response.body;\r\n            user.activated = _this.user.activated;\r\n            user.authorities = _this.user.authorities;\r\n            _this.userService.update(user).subscribe(function (res) {\r\n                _this.jhiAlertService.info('User Successfully Updated');\r\n                _this.modalService.dismissAll();\r\n            }, function () {\r\n                _this.jhiAlertService.error('Error in updating user');\r\n            });\r\n        }, function (error) {\r\n            _this.userService.create(_this.user).subscribe(function (response) {\r\n                _this.jhiAlertService.info('User Successfully Created');\r\n                _this.modalService.dismissAll();\r\n            });\r\n        });\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.byteSize = function (field) {\r\n        return this.dataUtils.byteSize(field);\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.openFile = function (contentType, field) {\r\n        return this.dataUtils.openFile(contentType, field);\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.setFileData = function (event, entity, field, isImage) {\r\n        this.dataUtils.setFileData(event, entity, field, isImage);\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.clearInputImage = function (field, fieldContentType, idInput) {\r\n        this.dataUtils.clearInputImage(this.employee, this.elementRef, field, fieldContentType, idInput);\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.previousState = function () {\r\n        window.history.back();\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.save = function () {\r\n        this.isSaving = true;\r\n        if (this.employee.id !== undefined) {\r\n            this.subscribeToSaveResponse(this.employeeService.update(this.employee));\r\n        }\r\n        else {\r\n            this.subscribeToSaveResponse(this.employeeService.create(this.employee));\r\n        }\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.subscribeToSaveResponse = function (result) {\r\n        var _this = this;\r\n        result.subscribe(function (res) {\r\n            if (_this.employee.id) {\r\n                _this.onSaveSuccess();\r\n            }\r\n            else {\r\n                var employee = res.body;\r\n                _this.router.navigate(['/employee', employee.id, 'employee-management']);\r\n            }\r\n        }, function (res) { return _this.onSaveError(); });\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.onSaveSuccess = function () {\r\n        this.isSaving = false;\r\n        this.previousState();\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.onSaveError = function () {\r\n        this.isSaving = false;\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.onError = function (errorMessage) {\r\n        this.jhiAlertService.error(errorMessage, null, null);\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.trackDepartmentById = function (index, item) {\r\n        return item.id;\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.trackOfficeById = function (index, item) {\r\n        return item.id;\r\n    };\r\n    EmployeeExtendedUpdateComponent.prototype.trackDesignationById = function (index, item) {\r\n        return item.id;\r\n    };\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n    EmployeeExtendedUpdateComponent = tslib_1.__decorate([\r\n        core_1.Component({\r\n            selector: 'jhi-employee-update',\r\n            templateUrl: './employee-extended-update.component.html'\r\n        }),\r\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof ng_jhipster_1.JhiDataUtils !== \"undefined\" && ng_jhipster_1.JhiDataUtils) === \"function\" ? _a : Object, typeof (_b = typeof ng_jhipster_1.JhiAlertService !== \"undefined\" && ng_jhipster_1.JhiAlertService) === \"function\" ? _b : Object, typeof (_c = typeof employee_extended_service_1.EmployeeExtendedService !== \"undefined\" && employee_extended_service_1.EmployeeExtendedService) === \"function\" ? _c : Object, typeof (_d = typeof department_1.DepartmentService !== \"undefined\" && department_1.DepartmentService) === \"function\" ? _d : Object, typeof (_e = typeof office_1.OfficeService !== \"undefined\" && office_1.OfficeService) === \"function\" ? _e : Object, typeof (_f = typeof designation_1.DesignationService !== \"undefined\" && designation_1.DesignationService) === \"function\" ? _f : Object, typeof (_g = typeof core_1.ElementRef !== \"undefined\" && core_1.ElementRef) === \"function\" ? _g : Object, typeof (_h = typeof router_1.ActivatedRoute !== \"undefined\" && router_1.ActivatedRoute) === \"function\" ? _h : Object, typeof (_j = typeof core_2.UserService !== \"undefined\" && core_2.UserService) === \"function\" ? _j : Object, typeof (_k = typeof ng_bootstrap_1.NgbModal !== \"undefined\" && ng_bootstrap_1.NgbModal) === \"function\" ? _k : Object, typeof (_l = typeof router_1.Router !== \"undefined\" && router_1.Router) === \"function\" ? _l : Object])\r\n    ], EmployeeExtendedUpdateComponent);\r\n    return EmployeeExtendedUpdateComponent;\r\n}(employee_1.EmployeeUpdateComponent));\r\nexports.EmployeeExtendedUpdateComponent = EmployeeExtendedUpdateComponent;\r\n",{"version":3,"file":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\src\\main\\webapp\\app\\entities\\employee-extended\\employee-extended-update.component.ts","sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\tslint-loader\\index.js!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\src\\main\\webapp\\app\\entities\\employee-extended\\employee-extended-update.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, ElementRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { JhiAlertService, JhiDataUtils } from 'ng-jhipster';\r\nimport { IEmployee } from 'app/shared/model/employee.model';\r\nimport { EmployeeExtendedService } from './employee-extended.service';\r\nimport { IDepartment } from 'app/shared/model/department.model';\r\nimport { DepartmentService } from 'app/entities/department';\r\nimport { IOffice } from 'app/shared/model/office.model';\r\nimport { OfficeService } from 'app/entities/office';\r\nimport { IDesignation } from 'app/shared/model/designation.model';\r\nimport { DesignationService } from 'app/entities/designation';\r\nimport { IUser, User, UserService } from 'app/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { EmployeeUpdateComponent } from 'app/entities/employee';\r\n\r\n@Component({\r\n    selector: 'jhi-employee-update',\r\n    templateUrl: './employee-extended-update.component.html'\r\n})\r\nexport class EmployeeExtendedUpdateComponent extends EmployeeUpdateComponent implements OnInit {\r\n    employee: IEmployee;\r\n    isSaving: boolean;\r\n\r\n    departments: IDepartment[];\r\n\r\n    offices: IOffice[];\r\n\r\n    designations: IDesignation[];\r\n    managers: IEmployee[];\r\n    birthDateDp: any;\r\n    joiningDateDp: any;\r\n    terminationDateDp: any;\r\n    user: User;\r\n    authorities: any[];\r\n\r\n    constructor(\r\n        protected dataUtils: JhiDataUtils,\r\n        protected jhiAlertService: JhiAlertService,\r\n        protected employeeService: EmployeeExtendedService,\r\n        protected departmentService: DepartmentService,\r\n        protected officeService: OfficeService,\r\n        protected designationService: DesignationService,\r\n        protected elementRef: ElementRef,\r\n        protected activatedRoute: ActivatedRoute,\r\n        protected userService: UserService,\r\n        protected modalService: NgbModal,\r\n        protected router: Router\r\n    ) {\r\n        super(\r\n            dataUtils,\r\n            jhiAlertService,\r\n            employeeService,\r\n            departmentService,\r\n            officeService,\r\n            designationService,\r\n            elementRef,\r\n            activatedRoute\r\n        );\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.isSaving = false;\r\n        this.activatedRoute.data.subscribe(({ employee }) => {\r\n            this.employee = employee;\r\n        });\r\n        this.employeeService\r\n            .query({ 'designationId.in': '1,2,3,4,5,6,7' })\r\n            .subscribe(\r\n                (res: HttpResponse<IEmployee[]>) => (this.managers = res.body),\r\n                (res: HttpErrorResponse) => this.onError(res.message)\r\n            );\r\n        this.departmentService\r\n            .query({ 'employeeId.specified': 'false', size: 1000 })\r\n            .pipe(\r\n                filter((mayBeOk: HttpResponse<IDepartment[]>) => mayBeOk.ok),\r\n                map((response: HttpResponse<IDepartment[]>) => response.body)\r\n            )\r\n            .subscribe(\r\n                (res: IDepartment[]) => {\r\n                    if (!this.employee.departmentId) {\r\n                        this.departments = res;\r\n                    } else {\r\n                        this.departmentService\r\n                            .find(this.employee.departmentId)\r\n                            .pipe(\r\n                                filter((subResMayBeOk: HttpResponse<IDepartment>) => subResMayBeOk.ok),\r\n                                map((subResponse: HttpResponse<IDepartment>) => subResponse.body)\r\n                            )\r\n                            .subscribe(\r\n                                (subRes: IDepartment) => (this.departments = [subRes].concat(res)),\r\n                                (subRes: HttpErrorResponse) => this.onError(subRes.message)\r\n                            );\r\n                    }\r\n                },\r\n                (res: HttpErrorResponse) => this.onError(res.message)\r\n            );\r\n        this.officeService\r\n            .query({ 'employeeId.specified': 'false' })\r\n            .pipe(\r\n                filter((mayBeOk: HttpResponse<IOffice[]>) => mayBeOk.ok),\r\n                map((response: HttpResponse<IOffice[]>) => response.body)\r\n            )\r\n            .subscribe(\r\n                (res: IOffice[]) => {\r\n                    if (!this.employee.officeId) {\r\n                        this.offices = res;\r\n                    } else {\r\n                        this.officeService\r\n                            .find(this.employee.officeId)\r\n                            .pipe(\r\n                                filter((subResMayBeOk: HttpResponse<IOffice>) => subResMayBeOk.ok),\r\n                                map((subResponse: HttpResponse<IOffice>) => subResponse.body)\r\n                            )\r\n                            .subscribe(\r\n                                (subRes: IOffice) => (this.offices = [subRes].concat(res)),\r\n                                (subRes: HttpErrorResponse) => this.onError(subRes.message)\r\n                            );\r\n                    }\r\n                },\r\n                (res: HttpErrorResponse) => this.onError(res.message)\r\n            );\r\n        this.designationService\r\n            .query({\r\n                size: 1000\r\n            })\r\n            .pipe(\r\n                filter((mayBeOk: HttpResponse<IDesignation[]>) => mayBeOk.ok),\r\n                map((response: HttpResponse<IDesignation[]>) => response.body)\r\n            )\r\n            .subscribe((res: IDesignation[]) => (this.designations = res), (res: HttpErrorResponse) => this.onError(res.message));\r\n    }\r\n\r\n    searchDesignations(event) {\r\n        this.designations = [];\r\n        this.designationService\r\n            .query({\r\n                'name.in': event.query\r\n            })\r\n            .pipe(\r\n                filter((mayBeOk: HttpResponse<IDesignation[]>) => mayBeOk.ok),\r\n                map((response: HttpResponse<IDesignation[]>) => response.body)\r\n            )\r\n            .subscribe((res: IDesignation[]) => (this.designations = res), (res: HttpErrorResponse) => this.onError(res.message));\r\n    }\r\n\r\n    activationCheckboxChanged(content) {\r\n        this.user = new User();\r\n        if (this.employee.userAccount) {\r\n            this.modalService.open(content);\r\n\r\n            this.userService.find(this.employee.employeeId).subscribe(\r\n                response => {\r\n                    this.user = response.body;\r\n                },\r\n                error => {\r\n                    console.log('In error portion');\r\n                    this.user = new User();\r\n                    this.user.login = this.employee.employeeId;\r\n                    this.user.email = this.employee.email;\r\n                }\r\n            );\r\n\r\n            this.userService.authorities().subscribe(authorities => {\r\n                this.authorities = authorities;\r\n            });\r\n        } else {\r\n            this.userService.find(this.employee.employeeId).subscribe(\r\n                user => {\r\n                    this.user = user.body;\r\n                    if (this.user !== undefined) {\r\n                        this.user.activated = false;\r\n                        this.userService.update(this.user).subscribe(response => {\r\n                            this.jhiAlertService.info('User account disabled');\r\n                        });\r\n                    }\r\n                },\r\n                error => {}\r\n            );\r\n        }\r\n    }\r\n\r\n    cancelUserCreation() {\r\n        this.modalService.dismissAll();\r\n    }\r\n\r\n    saveUser() {\r\n        this.userService.find(this.user.login).subscribe(\r\n            response => {\r\n                const user: IUser = response.body;\r\n                user.activated = this.user.activated;\r\n                user.authorities = this.user.authorities;\r\n                this.userService.update(user).subscribe(\r\n                    res => {\r\n                        this.jhiAlertService.info('User Successfully Updated');\r\n                        this.modalService.dismissAll();\r\n                    },\r\n                    () => {\r\n                        this.jhiAlertService.error('Error in updating user');\r\n                    }\r\n                );\r\n            },\r\n            error => {\r\n                this.userService.create(this.user).subscribe(response => {\r\n                    this.jhiAlertService.info('User Successfully Created');\r\n                    this.modalService.dismissAll();\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    byteSize(field) {\r\n        return this.dataUtils.byteSize(field);\r\n    }\r\n\r\n    openFile(contentType, field) {\r\n        return this.dataUtils.openFile(contentType, field);\r\n    }\r\n\r\n    setFileData(event, entity, field, isImage) {\r\n        this.dataUtils.setFileData(event, entity, field, isImage);\r\n    }\r\n\r\n    clearInputImage(field: string, fieldContentType: string, idInput: string) {\r\n        this.dataUtils.clearInputImage(this.employee, this.elementRef, field, fieldContentType, idInput);\r\n    }\r\n\r\n    previousState() {\r\n        window.history.back();\r\n    }\r\n\r\n    save() {\r\n        this.isSaving = true;\r\n        if (this.employee.id !== undefined) {\r\n            this.subscribeToSaveResponse(this.employeeService.update(this.employee));\r\n        } else {\r\n            this.subscribeToSaveResponse(this.employeeService.create(this.employee));\r\n        }\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IEmployee>>) {\r\n        result.subscribe(\r\n            (res: HttpResponse<IEmployee>) => {\r\n                if (this.employee.id) {\r\n                    this.onSaveSuccess();\r\n                } else {\r\n                    const employee: IEmployee = res.body;\r\n                    this.router.navigate(['/employee', employee.id, 'employee-management']);\r\n                }\r\n            },\r\n            (res: HttpErrorResponse) => this.onSaveError()\r\n        );\r\n    }\r\n\r\n    protected onSaveSuccess() {\r\n        this.isSaving = false;\r\n        this.previousState();\r\n    }\r\n\r\n    protected onSaveError() {\r\n        this.isSaving = false;\r\n    }\r\n\r\n    protected onError(errorMessage: string) {\r\n        this.jhiAlertService.error(errorMessage, null, null);\r\n    }\r\n\r\n    trackDepartmentById(index: number, item: IDepartment) {\r\n        return item.id;\r\n    }\r\n\r\n    trackOfficeById(index: number, item: IOffice) {\r\n        return item.id;\r\n    }\r\n\r\n    trackDesignationById(index: number, item: IDesignation) {\r\n        return item.id;\r\n    }\r\n}\r\n"]}]}