{"remainingRequest":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\tslint-loader\\index.js!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\src\\main\\webapp\\app\\entities\\quotation-details-extended\\quotation-details-extended-update.component.ts","dependencies":[{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\src\\main\\webapp\\app\\entities\\quotation-details-extended\\quotation-details-extended-update.component.ts","mtime":1625565387589},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\ts-loader\\index.js","mtime":1545640398000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\tslint-loader\\index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar core_1 = require(\"@angular/core\");\r\nvar router_1 = require(\"@angular/router\");\r\nvar rxjs_1 = require(\"rxjs\");\r\nvar ng_jhipster_1 = require(\"ng-jhipster\");\r\nvar quotation_1 = require(\"app/entities/quotation\");\r\nvar requisition_details_1 = require(\"app/entities/requisition-details\");\r\nvar quotation_details_1 = require(\"app/entities/quotation-details\");\r\nvar product_1 = require(\"app/entities/product\");\r\nvar quotation_details_extended_service_1 = require(\"app/entities/quotation-details-extended/quotation-details-extended.service\");\r\nvar requisition_1 = require(\"app/entities/requisition\");\r\nvar QuotationDetailsExtendedUpdateComponent = /** @class */ (function (_super) {\r\n    tslib_1.__extends(QuotationDetailsExtendedUpdateComponent, _super);\r\n    function QuotationDetailsExtendedUpdateComponent(dataUtils, jhiAlertService, quotationDetailsService, quotationService, requisitionDetailsService, productService, activatedRoute, quotatinoDetailsExtendedService, requisitionService) {\r\n        var _this = _super.call(this, dataUtils, jhiAlertService, quotationDetailsService, quotationService, requisitionDetailsService, productService, activatedRoute) || this;\r\n        _this.dataUtils = dataUtils;\r\n        _this.jhiAlertService = jhiAlertService;\r\n        _this.quotationDetailsService = quotationDetailsService;\r\n        _this.quotationService = quotationService;\r\n        _this.requisitionDetailsService = requisitionDetailsService;\r\n        _this.productService = productService;\r\n        _this.activatedRoute = activatedRoute;\r\n        _this.quotatinoDetailsExtendedService = quotatinoDetailsExtendedService;\r\n        _this.requisitionService = requisitionService;\r\n        return _this;\r\n    }\r\n    QuotationDetailsExtendedUpdateComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.isSaving = false;\r\n        this.activatedRoute.data.subscribe(function (_a) {\r\n            var quotationDetails = _a.quotationDetails;\r\n            _this.quotationDetails = quotationDetails;\r\n            _this.quotationService.find(_this.quotationDetails.quotationId).subscribe(function (res) {\r\n                _this.quotation = res.body;\r\n                _this.fetchRequisitionAndExistingQuotationDetails();\r\n                _this.fetchProducts();\r\n            });\r\n        });\r\n    };\r\n    QuotationDetailsExtendedUpdateComponent.prototype.fetchRequisitionAndExistingQuotationDetails = function () {\r\n        var _this = this;\r\n        rxjs_1.forkJoin(this.requisitionService.find(this.quotation.requisitionId), this.quotationDetailsService.query({\r\n            'quotationId.equals': this.quotation.id,\r\n            size: 100\r\n        })).subscribe(function (res) {\r\n            _this.requisition = res[0].body;\r\n            _this.existingQuotationDetails = res[1].body;\r\n        }, function (error) {\r\n            _this.jhiAlertService.error('Error in fetching requisition and existing quotation details data');\r\n        });\r\n    };\r\n    QuotationDetailsExtendedUpdateComponent.prototype.save = function () {\r\n        this.isSaving = true;\r\n        if (this.quotationDetails.id !== undefined) {\r\n            this.subscribeToSaveResponse(this.quotatinoDetailsExtendedService.update(this.quotationDetails));\r\n        }\r\n        else {\r\n            this.subscribeToSaveResponse(this.quotatinoDetailsExtendedService.create(this.quotationDetails));\r\n        }\r\n    };\r\n    QuotationDetailsExtendedUpdateComponent.prototype.fetchProducts = function () {\r\n        var _this = this;\r\n        this.requisitionDetailsService\r\n            .query({\r\n            'requisitionId.equals': this.quotation.requisitionId\r\n        })\r\n            .subscribe(function (res) {\r\n            _this.requisitiondetails = [];\r\n            _this.requisitiondetails = res.body;\r\n            var productIdList = [];\r\n            _this.requisitiondetails.forEach(function (r) {\r\n                productIdList.push(r.productId);\r\n            });\r\n            _this.fetProductsContainsId(productIdList);\r\n        });\r\n    };\r\n    QuotationDetailsExtendedUpdateComponent.prototype.fetProductsContainsId = function (productIdList) {\r\n        var _this = this;\r\n        this.productService\r\n            .query({\r\n            'id.in': productIdList.join(',')\r\n        })\r\n            .subscribe(function (res) {\r\n            _this.products = [];\r\n            _this.products = res.body;\r\n        });\r\n    };\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n    QuotationDetailsExtendedUpdateComponent = tslib_1.__decorate([\r\n        core_1.Component({\r\n            selector: 'jhi-quotation-details-extended-update',\r\n            templateUrl: './quotation-details-extended-update.component.html'\r\n        }),\r\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof ng_jhipster_1.JhiDataUtils !== \"undefined\" && ng_jhipster_1.JhiDataUtils) === \"function\" ? _a : Object, typeof (_b = typeof ng_jhipster_1.JhiAlertService !== \"undefined\" && ng_jhipster_1.JhiAlertService) === \"function\" ? _b : Object, typeof (_c = typeof quotation_details_1.QuotationDetailsService !== \"undefined\" && quotation_details_1.QuotationDetailsService) === \"function\" ? _c : Object, typeof (_d = typeof quotation_1.QuotationService !== \"undefined\" && quotation_1.QuotationService) === \"function\" ? _d : Object, typeof (_e = typeof requisition_details_1.RequisitionDetailsService !== \"undefined\" && requisition_details_1.RequisitionDetailsService) === \"function\" ? _e : Object, typeof (_f = typeof product_1.ProductService !== \"undefined\" && product_1.ProductService) === \"function\" ? _f : Object, typeof (_g = typeof router_1.ActivatedRoute !== \"undefined\" && router_1.ActivatedRoute) === \"function\" ? _g : Object, typeof (_h = typeof quotation_details_extended_service_1.QuotationDetailsExtendedService !== \"undefined\" && quotation_details_extended_service_1.QuotationDetailsExtendedService) === \"function\" ? _h : Object, typeof (_j = typeof requisition_1.RequisitionService !== \"undefined\" && requisition_1.RequisitionService) === \"function\" ? _j : Object])\r\n    ], QuotationDetailsExtendedUpdateComponent);\r\n    return QuotationDetailsExtendedUpdateComponent;\r\n}(quotation_details_1.QuotationDetailsUpdateComponent));\r\nexports.QuotationDetailsExtendedUpdateComponent = QuotationDetailsExtendedUpdateComponent;\r\n",{"version":3,"file":"C:\\Users\\hp\\Documents\\soptorshi-jhipster\\src\\main\\webapp\\app\\entities\\quotation-details-extended\\quotation-details-extended-update.component.ts","sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\node_modules\\tslint-loader\\index.js!C:\\Users\\hp\\Documents\\soptorshi-jhipster\\src\\main\\webapp\\app\\entities\\quotation-details-extended\\quotation-details-extended-update.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { forkJoin, Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { JhiAlertService, JhiDataUtils } from 'ng-jhipster';\r\nimport { IQuotationDetails } from 'app/shared/model/quotation-details.model';\r\nimport { IQuotation } from 'app/shared/model/quotation.model';\r\nimport { QuotationService } from 'app/entities/quotation';\r\nimport { IRequisitionDetails } from 'app/shared/model/requisition-details.model';\r\nimport { RequisitionDetailsService } from 'app/entities/requisition-details';\r\nimport { QuotationDetailsService, QuotationDetailsUpdateComponent } from 'app/entities/quotation-details';\r\nimport { ProductService } from 'app/entities/product';\r\nimport { IProduct } from 'app/shared/model/product.model';\r\nimport { QuotationDetailsExtendedService } from 'app/entities/quotation-details-extended/quotation-details-extended.service';\r\nimport { IRequisition } from 'app/shared/model/requisition.model';\r\nimport { RequisitionService } from 'app/entities/requisition';\r\n\r\n@Component({\r\n    selector: 'jhi-quotation-details-extended-update',\r\n    templateUrl: './quotation-details-extended-update.component.html'\r\n})\r\nexport class QuotationDetailsExtendedUpdateComponent extends QuotationDetailsUpdateComponent implements OnInit {\r\n    quotation: IQuotation;\r\n    requisition: IRequisition;\r\n    existingQuotationDetails: IQuotationDetails[];\r\n\r\n    constructor(\r\n        protected dataUtils: JhiDataUtils,\r\n        protected jhiAlertService: JhiAlertService,\r\n        protected quotationDetailsService: QuotationDetailsService,\r\n        protected quotationService: QuotationService,\r\n        protected requisitionDetailsService: RequisitionDetailsService,\r\n        protected productService: ProductService,\r\n        protected activatedRoute: ActivatedRoute,\r\n        protected quotatinoDetailsExtendedService: QuotationDetailsExtendedService,\r\n        protected requisitionService: RequisitionService\r\n    ) {\r\n        super(\r\n            dataUtils,\r\n            jhiAlertService,\r\n            quotationDetailsService,\r\n            quotationService,\r\n            requisitionDetailsService,\r\n            productService,\r\n            activatedRoute\r\n        );\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.isSaving = false;\r\n        this.activatedRoute.data.subscribe(({ quotationDetails }) => {\r\n            this.quotationDetails = quotationDetails;\r\n\r\n            this.quotationService.find(this.quotationDetails.quotationId).subscribe((res: HttpResponse<IQuotation>) => {\r\n                this.quotation = res.body;\r\n                this.fetchRequisitionAndExistingQuotationDetails();\r\n                this.fetchProducts();\r\n            });\r\n        });\r\n    }\r\n\r\n    fetchRequisitionAndExistingQuotationDetails(): void {\r\n        forkJoin(\r\n            this.requisitionService.find(this.quotation.requisitionId),\r\n            this.quotationDetailsService.query({\r\n                'quotationId.equals': this.quotation.id,\r\n                size: 100\r\n            })\r\n        ).subscribe(\r\n            res => {\r\n                this.requisition = res[0].body;\r\n                this.existingQuotationDetails = res[1].body;\r\n            },\r\n            error => {\r\n                this.jhiAlertService.error('Error in fetching requisition and existing quotation details data');\r\n            }\r\n        );\r\n    }\r\n\r\n    save() {\r\n        this.isSaving = true;\r\n        if (this.quotationDetails.id !== undefined) {\r\n            this.subscribeToSaveResponse(this.quotatinoDetailsExtendedService.update(this.quotationDetails));\r\n        } else {\r\n            this.subscribeToSaveResponse(this.quotatinoDetailsExtendedService.create(this.quotationDetails));\r\n        }\r\n    }\r\n\r\n    fetchProducts() {\r\n        this.requisitionDetailsService\r\n            .query({\r\n                'requisitionId.equals': this.quotation.requisitionId\r\n            })\r\n            .subscribe((res: HttpResponse<IRequisitionDetails[]>) => {\r\n                this.requisitiondetails = [];\r\n                this.requisitiondetails = res.body;\r\n\r\n                let productIdList: number[] = [];\r\n                this.requisitiondetails.forEach((r: IRequisitionDetails) => {\r\n                    productIdList.push(r.productId);\r\n                });\r\n\r\n                this.fetProductsContainsId(productIdList);\r\n            });\r\n    }\r\n\r\n    fetProductsContainsId(productIdList: number[]) {\r\n        this.productService\r\n            .query({\r\n                'id.in': productIdList.join(',')\r\n            })\r\n            .subscribe((res: HttpResponse<IProduct[]>) => {\r\n                this.products = [];\r\n                this.products = res.body;\r\n            });\r\n    }\r\n}\r\n"]}]}